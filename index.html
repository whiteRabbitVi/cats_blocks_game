<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ò–≥—Ä–∞ –ú–µ–º–æ—Ä–∏</title>
  
  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å—Ç–∏–ª–∏ -->
  <link rel="stylesheet" href="/cats_blocks_game/css/style.css">
  
  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ React, ReactDOM –∏ Babel -->
  <script src="/cats_blocks_game/vendor/react.development.js"></script>
  <script src="/cats_blocks_game/vendor/react-dom.development.js"></script>
  <script src="/cats_blocks_game/vendor/babel.min.js"></script>
  
  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ -->
  <script src="/cats_blocks_game/data.js"></script>
</head>
<body>
  <h2 class="d1">Cat blocks game</h2>
  <div id="root"></div>
  
  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ -->
  // <script type="text/babel" src="/cats_blocks_game/app.js"></script>

  <script type="text/babel">
  // üîΩ—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ app.js
  // –ü–æ–ª—É—á–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
const container = document.getElementById('root');
const root = ReactDOM.createRoot(container);
root.render(
  <App images={images} visibleItems={visibleItems} finishedItems={finishedItems} />
);

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
function App({ images = [], visibleItems = [], finishedItems = [] }) {
  return (
    <section className="game container">
      <h1>–ò–≥—Ä–∞ –ú–µ–º–æ—Ä–∏</h1>
      <Grid images={images} visibleItems={visibleItems} finishedItems={finishedItems} />
    </section>
  );
}

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç–æ—á–∫–∏
function Card({ img, text, isVisible, isFinished }) {
  const className = `card ${isVisible ? 'card-show' : ''} ${isFinished ? 'card-finished' : ''}`;
  return (
    <li className={className}>
      <img src={img} width="204" height="144" alt="–ö–æ—Ç–∏–∫" />
      <span>{text}</span>
    </li>
  );
}

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–µ—Ç–∫–∏ –∫–∞—Ä—Ç–æ—á–µ–∫
function Grid({ images, visibleItems, finishedItems }) {
  const cards = images.map((image) => (
    <Card
      key={image.id}
      img={image.url}
      text={image.description}
      isVisible={visibleItems.includes(image.id)}
      isFinished={finishedItems.includes(image.id)}
    />
  ));
  return <ul className="cards cards-theme-cars">{cards}</ul>;
}
</script>
  
</body>
</html>
